!function(t){var n=function(){function n(n){if(this.length=0,!n)return this;if("string"==typeof n){if("#"===n[0]){var i=n.slice(1);if(v.test(i)){var o=u.getElementById(i);return o&&(this[this.length++]=o),this}}if("."===n[0]){var r=n.slice(1);if(v.test(r))return e(u.getElementsByClassName(r),this)}if("<"===n[0]&&">"===n[n.length-1]){var a=u.createElement("div");return a.innerHTML=n,e(a.childNodes,this)}return e(u.querySelectorAll(n),this)}return n instanceof Node||n===t?(this[this.length++]=n,this):n instanceof NodeList||c.isArray(n)?e(n,this):"function"==typeof n?c().ready(n):void 0}function e(t,n){return t?(i(t,function(t){n[n.length++]=t}),n):n}function i(t,n){for(var e=0,i=t.length;i>e;e++)n(t[e])}function o(t,n){if(void 0===n)return c(t);var e=[];return i(t,function(t){g(t,n)&&e.push(t)}),c(e)}function r(t,n,e,o){i(n.split(p),function(n){void 0===o?t.addEventListener(n,e,!1):t.addEventListener(n,function(n){var i=c(n.target).closest(o,t)[0];i&&e.call(i,n)},!1)})}function a(t,n,e){i(n.split(p),function(n){t.removeEventListener(n,e,!1)})}function s(t,n){var e=u.createEvent("Events");if(e.initEvent(t,!0,!0),n)for(var i in n)void 0===e[i]&&(e[i]=n[i]);return e}var c=function(t){return new n(t)},u=t.document,f={}.toString,l=[],d=l.slice,h=l.indexOf,v=/^[\w-]*$/,p=/\s+/g,m=function(){var t={};return function(n){return t[n]||(t[n]=new RegExp("(^|\\s)"+n+"(\\s|$)"))}}(),g=function(){var t=u.body;return t.matchesSelector?function(t,n){return t.matchesSelector(n)}:t.webkitMatchesSelector?function(t,n){return t.webkitMatchesSelector(n)}:t.msMatchesSelector?function(t,n){return t.msMatchesSelector(n)}:t.mozMatchesSelector?function(t,n){return t.mozMatchesSelector(n)}:void 0}();return i(["Object","Array","Function"],function(t){c["is"+t]=function(n){return f.call(n)==="[object "+t+"]"}}),c.extend=function(t){if(void 0===t)return this;if(1===arguments.length){for(var n in t)this[n]=t[n];return this}return i(d.call(arguments,1),function(n){for(var e in n)t[e]=n[e]}),t},c.fn=n.prototype={constructor:n,forEach:function(t){for(var n=0,e=this.length;e>n;n++)t(this[n],n);return this},each:function(t){return this.forEach(function(n,e){t.call(n,e)})},ready:function(t){var n=u.readyState;return"complete"===n||"loaded"===n||"interactive"===n?t():u.addEventListener("DOMContentLoaded",t,!1),this},filter:function(t){return o(this,t)},siblings:function(t){var n=[];return this.forEach(function(t){var e=t.parentNode;e&&i(e.children,function(e){e!==t&&-1===n.indexOf(e)&&n.push(e)})}),o(n,t)},not:function(t){var n=[];return this.forEach(function(e){!g(e,t)&&n.push(e)}),c(n)},find:function(t){var n=[];return this.forEach(function(e){i(e.querySelectorAll(t),function(t){-1===n.indexOf(t)&&n.push(t)})}),c(n)},eq:function(t){return c(this[t])},children:function(t){var n=[];return this.forEach(function(t){i(t.children,function(t){n.push(t)})}),o(n,t)},parent:function(t){var n=[];return this.forEach(function(t){var e=t.parentNode;e&&e!==u&&-1===n.indexOf(e)&&n.push(e)}),o(n,t)},parents:function(t){var n=[];return this.forEach(function(t){for(var e=t.parentNode;e;)e!==u&&-1===n.indexOf(e)&&n.push(e),e=e.parentNode}),o(n,t)},closest:function(t,n){for(var e=this[0];e&&!g(e,t);){var i=e.parentNode;e=i===u?null:e!==n&&i}return c(e)},index:function(t){return t instanceof n&&(t=t[0]),t?h.call(this,t):h.call(this[0].parentNode.children,this[0])},html:function(t){return void 0===t?this[0].innerHTML:this.forEach(function(n){n.innerHTML=t})},text:function(t){return void 0===t?this[0].textContent:this.forEach(function(n){n.textContent=t})},empty:function(){return this.html("")},val:function(t){return void 0===t?this[0].value:this.forEach(function(n){n.value=t})},attr:function(t,n){return"string"==typeof t&&void 0===n?this[0].getAttribute(t):this.forEach(function(e){if(c.isObject(t))for(var i in t)e.setAttribute(i,t[i]);else e.setAttribute(t,n)})},removeAttr:function(t){return this.forEach(function(n){i(t.split(p),function(t){n.removeAttribute(t)})})},css:function(n,e){if("string"==typeof n&&void 0===e){var i=t.getComputedStyle(this[0]);return i[n]}return this.forEach(function(t){var i=t.style;if(c.isObject(n))for(var o in n)i[o]=n[o];else i[n]=e})},show:function(){return this.forEach(function(t){var n=t.getAttribute("data-display")||"block";"none"===n&&(n="block"),t.style.display=n,t.removeAttribute("data-display")})},hide:function(){return this.forEach(function(t){t.setAttribute("data-display",c(t).css("display")),t.style.display="none"})},fadeIn:function(){return this.forEach(function(t){c(t).removeClass("fade-out").addClass("fade-in")})},fadeOut:function(){return this.forEach(function(t){c(t).removeClass("fade-in").addClass("fade-out")})},append:function(t,e){var i=t instanceof n?t:c(t);return this.forEach(function(t){i.forEach(function(n){e?t.insertBefore(n,t.firstChild):t.appendChild(n)})})},prepend:function(t){return this.append(t,!0)},appendTo:function(t){var e=t instanceof n?t:c(t);e.append(this)},prependTo:function(t){var e=t instanceof n?t:c(t);e.append(this,!0)},offset:function(){var n=this[0];return n===t?{left:0,top:0,right:0,bottom:0,width:t.innerWidth,height:t.innerHeight}:n.getBoundingClientRect()},width:function(){var n=this[0];return n===t?t.innerWidth:n.offsetWidth},height:function(){var n=this[0];return n===t?t.innerHeight:n.offsetHeight},is:function(t){var n=this[0];return t&&g(n,t)},addClass:function(t){return this.forEach(function(n){var e=n.className,o=[];i(t.split(p),function(t){!c(n).hasClass(t)&&o.push(t)}),o.length>0&&(n.className+=(e?" ":"")+o.join(" "))})},removeClass:function(t){return this.forEach(function(n){if(void 0===t)return void(n.className="");var e=n.className;i(t.split(p),function(t){e=e.replace(m(t)," ")}),n.className=e.trim()})},hasClass:function(t){return m(t).test(this[0].className)}},c.fn.extend=function(t){c.extend.call(this,t)},c.fn.extend({bind:function(t,n){return this.forEach(function(e){r(e,t,n)})},unbind:function(t,n){return this.forEach(function(e){a(e,t,n)})},delegate:function(t,n,e){return this.forEach(function(i){r(i,t,e,n)})},on:function(t,n,e){return"function"==typeof n?this.bind(t,n):this.delegate(t,n,e)},off:function(t,n){return this.unbind(t,n)},trigger:function(t,n){return t=s(t,n),this.forEach(function(n){n.dispatchEvent(t)})}}),i(["click","touchstart","touchmove","touchend","submit","load","resize","change","select"],function(t){c.fn[t]=function(n){return n?this.bind(t,n):this.trigger(t)}}),c.jsonp=function(){var t=u.getElementsByTagName("head")[0];return function(n,e){var i=/(\.js)$/.test(n),o=u.createElement("script");o.type="text/javascript",o.onload=function(){"function"==typeof e&&e(),!i&&t.removeChild(o)},o.src=n,t.appendChild(o)}}(),c.ajax=function(){function t(t){var n=[];for(var e in t)n.push(e+"="+t[e]);return n.join("&")}var n={method:"get",async:!0};return function(e){e=c.extend({},n,e);var i=new XMLHttpRequest;i.open(e.method,e.url,e.async);var o=e.header;if(o)for(var r in o)i.setRequestHeader(r,o[r]);i.onreadystatechange=function(){if(4===i.readyState&&200===i.status){var t=e.callback;"function"==typeof t&&t(i.responseText)}},i.send(t(e.data))}}(),c}();return"function"==typeof define?void define(function(){return n}):"object"==typeof exports?void(module.exports=n):void(t.soneway=t.$=n)}(this),function(t,n){function e(t){var e=n.panelUnloaded;"function"==typeof e&&e(t)}var i=t.document,o=t.location,r=n(i),a=n(i.body);n.isShowQrcode=!0,n.indexSelector="#panel1",n.isMobi=/(iPhone|iPod|iPad|android|windows phone os|iemobile)/i.test(t.navigator.userAgent);var s=function(){var t={};return function(e){var i=n.panelLoaded,o=e[0].id;"function"==typeof i&&i(e,!t[o]),t[o]=!0}}();n.toggleMask=function(){var t=n("#mask");return 0===t.length&&(t=n('<div id="mask" class="fixed"><div><div class="spinner"><b></b><b></b><b></b><b></b><b></b><b></b><b></b><b></b></div></div></div>'),a.append(t)),function(n){n?t.addClass("visible"):t.removeClass("visible")}}(),n.toggleSidebox=function(){var t=n("#sidebox");return function(i){var o=n.history[n.history.length-1];i?(a.addClass("onsidebox"),s(t),e(o)):(a.removeClass("onsidebox"),e(t),s(o))}}();var c=n("#mainbox");n.toggleHeader=function(t){t?c.removeClass("offheader"):c.addClass("offheader")},n.toggleNavbar=function(t){t?c.removeClass("offnavbar"):c.addClass("offnavbar")},n.setTitle=function(){var t=n(".roottitle .title");return function(n){n&&t.html(n)}}(),n.setSubtitle=function(){var t=n(".subtitle .title");return function(n){n&&t.html(n)}}(),n.loadPanel=function(){var t=n("#navbar a"),o=i.querySelector(".navbox"),r=n(n.indexSelector),a=1e3*parseFloat(r.css("transition-duration")||r.css("-webkit-transition-duration")),u=n.history=[],f=n("#header"),l="hidden"!==c.css("overflow"),d=function(){var t={},n=i.body;return function(e,i){i?t[e]=n.scrollTop:n.scrollTop=t[e]||0}}();return function(i){var r,c;if(i?(r=n(i),r.length>0&&(c=u[u.length-1],u.push(r))):(c=u.pop(),r=u[u.length-1],i="#"+r.attr("id")),r.length>0){if(t.length>0&&t.each(function(){for(var e=(this.getAttribute("data-hash")||this.hash).split("|"),r=0,a=e.length;a>r;r++)e[r]===i&&(t.removeClass("selected"),n(this).addClass("selected"),o.center(this))}),!c)return r.addClass("show opened"),n.setTitle(r.attr("title")),void s(r);if("#"+c.attr("id")!==i){var h=r.attr("data-role"),v=c.attr("data-role");l&&d(c.attr("id"),!0),r.addClass("show"),setTimeout(function(){"root"===h?(n.setTitle(r.attr("title")),n.toggleNavbar(!0),f.removeClass("onsubtitle"),"root"===v?(r.addClass("notrans"),c.addClass("notrans")):(r.removeClass("notrans"),c.removeClass("notrans")),r.removeClass("subopened").addClass("opened"),c.removeClass("opened")):(n.setSubtitle(r.attr("title")),n.toggleNavbar(!1),f.addClass("onsubtitle"),r.removeClass("notrans").addClass("reflow"),c.removeClass("notrans"),r.hasClass("subopened")?(r.removeClass("subopened").addClass("opened"),c.removeClass("opened")):(r.addClass("opened"),c.addClass("subopened").removeClass("opened")))},10),setTimeout(function(){c.removeClass("show"),r.removeClass("reflow"),l&&d(r.attr("id"),!1),e(c),"paneliframe"===c.attr("id")&&c.html("")},a+100),s(r)}}else console.log(i+"面板未找到")}}(),function(){r.on("touchstart","a",function(){n(this).addClass("focus")}),r.on("touchend","a",function(){n(this).removeClass("focus")}),r.on("click",".btn-onsidebox",function(){n.toggleSidebox(!0)}),r.on("click",".btn-offsidebox",function(){n.toggleSidebox(!1)});var t=n("#paneliframe");r.on("click","a",function(e){var i=this.hash;if(i)return e.preventDefault(),void n.loadPanel(i);var o=this.getAttribute("data-href"),r=this.getAttribute("data-title");o&&(e.preventDefault(),t.html('<iframe src="'+o+'"></iframe>'),n.setSubtitle(r||"详情"),n.loadPanel("#paneliframe"))}),r.on("click","#btn-goback",function(){n.loadPanel()})}(),n(function(){n.isShowQrcode&&!n.isMobi&&n.jsonp("http://img.gd.sohu.com/js/qrcode.js",function(){var t=n("#qrcode");0===t.length&&(t=n('<div id="qrcode"></div>'),a.append(t),new QRCode(t[0],{width:t.width(),height:t.height(),text:o.href})),r.on("click","#qrcode",function(){t.fadeOut()})}),a.addClass("loaded");var t=n(".navbox");t.length>0&&t.scroll(),n.loadPanel(n.indexSelector);var e=o.hash;e&&setTimeout(function(){n.loadPanel(e)},400)})}(this,$),function(t,n){var e=n(t.document),i={},o={};n(function(){}),n.panelLoaded=function(t,e){var o=i[t.attr("id")];n.isFunction(o)&&o(t,e)},n.panelUnloaded=function(t){var e=o[t.attr("id")];n.isFunction(e)&&e(t)},i.panelservice=function(){function t(){return(new Date).toTimeString().slice(0,8)}function i(n,e,i,a){function s(){c+=12,o.scrollTop=c,u>c&&requestAnimationFrame(s)}r.append('<div class="msg_item '+(e?"service":"client")+'"><p class="timestamp">'+(i||"")+t()+"</p>"+(e?'<img class="avator" src="images/avator.jpg" />':"")+'<div class="msg'+(a?" automsg":"")+'">'+n+"</div></div>");var c=o.scrollTop,u=o.scrollHeight-o.offsetHeight;u>c&&requestAnimationFrame(s)}var o=document.getElementsByClassName("msg_content")[0],r=n("#msgbox"),a=n("#txt_msg");return function(t,n){if(n){r.html("");var o="<h3>请选择问题的类型</h3><a>商品问题</a><a>交易问题</a><a>游戏/客户端/区服问题</a><a>其他问题</a>";i(o,!0,"交易猫在线客服-自动回复：",!0),e.on("click",".automsg a",function(){r.html("");var t="您好，我是 客服喵喵 ，请问有什么可以帮助您的吗？";i(t,!0,"交易猫在线客服-喵喵：")}),e.on("click",".btn_send",function(){var t=a.val();t&&(i(t),setTimeout(function(){var t="您好，我是 客服喵喵 ，请问有什么可以帮助您的吗？";i(t,!0,"交易猫在线客服-喵喵：")},1e3))})}}}()}(this,$);